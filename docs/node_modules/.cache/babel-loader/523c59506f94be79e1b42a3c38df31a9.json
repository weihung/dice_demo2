{"ast":null,"code":"import _classCallCheck from\"/Users/weihung/Documents/workspace/dice/frontend/dice-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/weihung/Documents/workspace/dice/frontend/dice-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/weihung/Documents/workspace/dice/frontend/dice-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/weihung/Documents/workspace/dice/frontend/dice-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/weihung/Documents/workspace/dice/frontend/dice-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React from\"react\";import\"./Countdown.css\";var Countdown=/*#__PURE__*/function(_React$Component){_inherits(Countdown,_React$Component);function Countdown(props){var _this;_classCallCheck(this,Countdown);_this=_possibleConstructorReturn(this,_getPrototypeOf(Countdown).call(this,props));_this.endTime=props.value;var second=(Date.now()-props.value)/1000;if(second<0)second=0;_this.state={second:second};return _this;}_createClass(Countdown,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;this.interval=setInterval(function(){_this2.countdown();},123);}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){clearInterval(this.interval);}},{key:\"countdown\",value:function countdown(){var second=(this.endTime-Date.now())/1000;if(second<0){second=0;this.props.onFinish();return;}this.setState({second:second});}},{key:\"render\",value:function render(){return React.createElement(\"div\",{className:\"Countdown\"},React.createElement(\"div\",{className:\"Countdown-Text\"},React.createElement(\"div\",{style:{margin:\"auto\",display:'grid'}},React.createElement(\"div\",{style:{margin:\"auto\"}},\"\\u7B2C \",this.props.peroid,\" \\u8F6E\"),React.createElement(\"div\",{style:{margin:\"auto\"}},\"\\u8BA1\\u65F6 \",this.state.second.toFixed(3),\" \\u79D2\"))));}}]);return Countdown;}(React.Component);export{Countdown as default};","map":{"version":3,"sources":["/Users/weihung/Documents/workspace/dice/frontend/dice-demo/src/endless/component/Countdown.js"],"names":["React","Countdown","props","endTime","value","second","Date","now","state","interval","setInterval","countdown","clearInterval","onFinish","setState","margin","display","peroid","toFixed","Component"],"mappings":"m4BAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,iBAAP,C,GAEqBC,CAAAA,S,+EACnB,mBAAYC,KAAZ,CAAmB,2CACjB,2EAAMA,KAAN,GACA,MAAKC,OAAL,CAAeD,KAAK,CAACE,KAArB,CACA,GAAIC,CAAAA,MAAM,CAAG,CAACC,IAAI,CAACC,GAAL,GAAaL,KAAK,CAACE,KAApB,EAA6B,IAA1C,CACA,GAAIC,MAAM,CAAG,CAAb,CAAgBA,MAAM,CAAG,CAAT,CAChB,MAAKG,KAAL,CAAa,CACXH,MAAM,CAANA,MADW,CAAb,CALiB,aAQlB,C,mFAEmB,iBAClB,KAAKI,QAAL,CAAgBC,WAAW,CAAC,UAAM,CAChC,MAAI,CAACC,SAAL,GACD,CAF0B,CAExB,GAFwB,CAA3B,CAGD,C,mEAEsB,CACrBC,aAAa,CAAC,KAAKH,QAAN,CAAb,CACD,C,6CAEW,CACV,GAAIJ,CAAAA,MAAM,CAAG,CAAC,KAAKF,OAAL,CAAeG,IAAI,CAACC,GAAL,EAAhB,EAA8B,IAA3C,CACA,GAAIF,MAAM,CAAG,CAAb,CAAgB,CACdA,MAAM,CAAG,CAAT,CACA,KAAKH,KAAL,CAAWW,QAAX,GACA,OACD,CACD,KAAKC,QAAL,CAAc,CAAET,MAAM,CAANA,MAAF,CAAd,EACD,C,uCAEQ,CACP,MACE,4BAAK,SAAS,CAAC,WAAf,EACE,2BAAK,SAAS,CAAC,gBAAf,EACE,2BAAK,KAAK,CAAE,CAAEU,MAAM,CAAE,MAAV,CAAkBC,OAAO,CAAC,MAA1B,CAAZ,EACE,2BAAK,KAAK,CAAE,CAAED,MAAM,CAAE,MAAV,CAAZ,YAAkC,KAAKb,KAAL,CAAWe,MAA7C,WADF,CAEE,2BAAK,KAAK,CAAE,CAAEF,MAAM,CAAE,MAAV,CAAZ,kBAAmC,KAAKP,KAAL,CAAWH,MAAX,CAAkBa,OAAlB,CAA0B,CAA1B,CAAnC,WAFF,CADF,CADF,CADF,CAUD,C,uBA1CoClB,KAAK,CAACmB,S,SAAxBlB,S","sourcesContent":["import React from \"react\";\nimport \"./Countdown.css\";\n\nexport default class Countdown extends React.Component {\n  constructor(props) {\n    super(props);\n    this.endTime = props.value;\n    var second = (Date.now() - props.value) / 1000;\n    if (second < 0) second = 0;\n    this.state = {\n      second\n    };\n  }\n\n  componentDidMount() {\n    this.interval = setInterval(() => {\n      this.countdown();\n    }, 123);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.interval);\n  }\n\n  countdown() {\n    var second = (this.endTime - Date.now()) / 1000;\n    if (second < 0) {\n      second = 0;\n      this.props.onFinish();\n      return;\n    }\n    this.setState({ second });\n  }\n\n  render() {\n    return (\n      <div className=\"Countdown\">\n        <div className=\"Countdown-Text\">\n          <div style={{ margin: \"auto\", display:'grid' }}>\n            <div style={{ margin: \"auto\"}}>第 {this.props.peroid} 轮</div>\n            <div style={{ margin: \"auto\"}}>计时 {this.state.second.toFixed(3)} 秒</div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}