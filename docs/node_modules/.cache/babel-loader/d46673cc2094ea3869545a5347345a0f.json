{"ast":null,"code":"var _jsxFileName = \"/Users/weihung/Documents/workspace/dice/frontend/dice-demo/src/endless/component/Countdown.js\";\nimport React from \"react\";\nimport \"./Countdown.css\";\nexport default class Countdown extends React.Component {\n  constructor(props) {\n    super(props);\n    this.endTime = props.value;\n    var second = (Date.now() - props.value) / 1000;\n    if (second < 0) second = 0;\n    this.state = {\n      second\n    };\n  }\n\n  componentDidMount() {\n    this.interval = setInterval(() => {\n      this.countdown();\n    }, 123);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.interval);\n  }\n\n  countdown() {\n    var second = (this.endTime - Date.now()) / 1000;\n\n    if (second < 0) {\n      second = 0;\n      this.props.onFinish();\n      return;\n    }\n\n    this.setState({\n      second\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"Countdown\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"Countdown-Text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        margin: \"auto\",\n        display: 'grid'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, \"\\u7B2C \", this.props.peroid, \" \\u8F6E\"), React.createElement(\"div\", {\n      style: {\n        margin: \"auto\",\n        display: 'grid'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }, \"\\u8BA1\\u65F6 \", this.state.second.toFixed(3), \" \\u79D2\"))));\n  }\n\n}","map":{"version":3,"sources":["/Users/weihung/Documents/workspace/dice/frontend/dice-demo/src/endless/component/Countdown.js"],"names":["React","Countdown","Component","constructor","props","endTime","value","second","Date","now","state","componentDidMount","interval","setInterval","countdown","componentWillUnmount","clearInterval","onFinish","setState","render","margin","display","peroid","toFixed"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,iBAAP;AAEA,eAAe,MAAMC,SAAN,SAAwBD,KAAK,CAACE,SAA9B,CAAwC;AACrDC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKC,OAAL,GAAeD,KAAK,CAACE,KAArB;AACA,QAAIC,MAAM,GAAG,CAACC,IAAI,CAACC,GAAL,KAAaL,KAAK,CAACE,KAApB,IAA6B,IAA1C;AACA,QAAIC,MAAM,GAAG,CAAb,EAAgBA,MAAM,GAAG,CAAT;AAChB,SAAKG,KAAL,GAAa;AACXH,MAAAA;AADW,KAAb;AAGD;;AAEDI,EAAAA,iBAAiB,GAAG;AAClB,SAAKC,QAAL,GAAgBC,WAAW,CAAC,MAAM;AAChC,WAAKC,SAAL;AACD,KAF0B,EAExB,GAFwB,CAA3B;AAGD;;AAEDC,EAAAA,oBAAoB,GAAG;AACrBC,IAAAA,aAAa,CAAC,KAAKJ,QAAN,CAAb;AACD;;AAEDE,EAAAA,SAAS,GAAG;AACV,QAAIP,MAAM,GAAG,CAAC,KAAKF,OAAL,GAAeG,IAAI,CAACC,GAAL,EAAhB,IAA8B,IAA3C;;AACA,QAAIF,MAAM,GAAG,CAAb,EAAgB;AACdA,MAAAA,MAAM,GAAG,CAAT;AACA,WAAKH,KAAL,CAAWa,QAAX;AACA;AACD;;AACD,SAAKC,QAAL,CAAc;AAAEX,MAAAA;AAAF,KAAd;AACD;;AAEDY,EAAAA,MAAM,GAAG;AACP,WACE;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,KAAK,EAAE;AAAEC,QAAAA,MAAM,EAAE,MAAV;AAAkBC,QAAAA,OAAO,EAAC;AAA1B,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAmD,KAAKjB,KAAL,CAAWkB,MAA9D,YADF,EAEE;AAAK,MAAA,KAAK,EAAE;AAAEF,QAAAA,MAAM,EAAE,MAAV;AAAkBC,QAAAA,OAAO,EAAC;AAA1B,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAAoD,KAAKX,KAAL,CAAWH,MAAX,CAAkBgB,OAAlB,CAA0B,CAA1B,CAApD,YAFF,CADF,CADF,CADF;AAUD;;AA1CoD","sourcesContent":["import React from \"react\";\nimport \"./Countdown.css\";\n\nexport default class Countdown extends React.Component {\n  constructor(props) {\n    super(props);\n    this.endTime = props.value;\n    var second = (Date.now() - props.value) / 1000;\n    if (second < 0) second = 0;\n    this.state = {\n      second\n    };\n  }\n\n  componentDidMount() {\n    this.interval = setInterval(() => {\n      this.countdown();\n    }, 123);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.interval);\n  }\n\n  countdown() {\n    var second = (this.endTime - Date.now()) / 1000;\n    if (second < 0) {\n      second = 0;\n      this.props.onFinish();\n      return;\n    }\n    this.setState({ second });\n  }\n\n  render() {\n    return (\n      <div className=\"Countdown\">\n        <div className=\"Countdown-Text\">\n          <div>\n            <div style={{ margin: \"auto\", display:'grid' }}>第 {this.props.peroid} 轮</div>\n            <div style={{ margin: \"auto\", display:'grid' }}>计时 {this.state.second.toFixed(3)} 秒</div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}