{"ast":null,"code":"var _jsxFileName = \"/Users/weihung/Documents/workspace/dice/frontend/dice-demo/src/endless/component/Controller.js\";\nimport React from \"react\";\nimport \"./Controller.css\";\nimport Switch from \"react-switch\";\nconst minBet = 0.01;\nexport default class Controller extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleAutoBetChange = autoBet => {\n      this.setState({\n        autoBet\n      });\n    };\n\n    this.state = {\n      value: \"1.05\",\n      bet: \"1.00\",\n      chance: 98 / 1.05,\n      win: 1.05,\n      autoBet: false\n    };\n    this.handleBetChange = this.handleBetChange.bind(this);\n    this.handleBetBlur = this.handleBetBlur.bind(this);\n    this.handleOddsChange = this.handleOddsChange.bind(this);\n    this.handleOddsBlur = this.handleOddsBlur.bind(this);\n    this.handleBetClick = this.handleBetClick.bind(this);\n    this.handleAutoBetChange = this.handleAutoBetChange.bind(this);\n  }\n\n  handleBetChange(event) {\n    var value = parseFloat(event.target.value);\n    if (isNaN(value)) value = minBet;\n    var v = value.toFixed(2);\n\n    if (v < minBet) {\n      v = minBet;\n    }\n\n    const win = (v * this.state.value).toFixed(4);\n    this.setState({\n      bet: event.target.value,\n      win\n    });\n  }\n\n  handleBetBlur(event) {\n    var value = parseFloat(event.target.value);\n    if (isNaN(value)) value = minBet;\n    var v = value.toFixed(2);\n\n    if (v < minBet) {\n      v = minBet;\n    }\n\n    const win = (v * this.state.value).toFixed(4);\n    this.setState({\n      bet: parseFloat(v),\n      win\n    });\n  }\n\n  handleOddsChange(event) {\n    var value = parseFloat(event.target.value);\n    if (isNaN(value)) value = 1.05;\n    var v = value.toFixed(2);\n\n    if (v < 1.05) {\n      v = 1.05;\n    } else if (v > 1000) {\n      v = 1000.00;\n    }\n\n    const chance = 98 / v;\n    const win = (v * this.state.bet).toFixed(4);\n    this.setState({\n      value: event.target.value,\n      chance,\n      win\n    });\n  }\n\n  handleOddsBlur(event) {\n    var value = parseFloat(event.target.value);\n    if (isNaN(value)) value = 1.05;\n    var v = value.toFixed(2);\n\n    if (v < 1.05) {\n      v = 1.05;\n    } else if (v > 1000) {\n      v = 1000.00;\n    }\n\n    const chance = 98 / v;\n    const win = (v * this.state.bet).toFixed(4);\n    this.setState({\n      value: v,\n      chance,\n      win\n    });\n  }\n\n  handleBetClick(event) {\n    if (this.props.autoBet) {\n      this.props.stopBet();\n      return;\n    }\n\n    this.props.onBet(parseFloat(this.state.value), parseFloat(this.state.bet), this.state.autoBet);\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"Controller\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"ControllerBody ControllerBet\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, \"\\u6295\\u6CE8\\u91D1\\u989D\"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"number\",\n      value: this.state.bet,\n      onChange: this.handleBetChange,\n      onBlur: this.handleBetBlur,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"ControllerBody ControllerOdds\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, \"\\u56DE\\u62A5\\u7387(\\u80DC\\u7387\", this.state.chance.toFixed(2), \"%)\"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"number\",\n      value: this.state.value,\n      onChange: this.handleOddsChange,\n      onBlur: this.handleOddsBlur,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"ControllerBody ControllerWin\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, \"\\u8D62\\u53D6\\u5956\\u91D1\"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, this.state.win)), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, \"\\u81EA\\u52A8\\u4E0B\\u6CE8\"), React.createElement(Switch, {\n      onChange: this.handleAutoBetChange,\n      checked: this.state.autoBet,\n      onColor: \"#86d3ff\",\n      onHandleColor: \"#2693e6\",\n      handleDiameter: 30,\n      uncheckedIcon: false,\n      checkedIcon: false,\n      boxShadow: \"0px 1px 5px rgba(0, 0, 0, 0.6)\",\n      activeBoxShadow: \"0px 0px 1px 10px rgba(0, 0, 0, 0.2)\",\n      height: 20,\n      width: 48,\n      className: \"react-switch\",\n      id: \"material-switch\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"ControllerBody ControllerStart\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: this.handleBetClick,\n      disabled: this.props.disableBet && !this.props.autoBet,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, this.props.autoBet ? \"停止\" : \"下注\")), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, \"\\u9980\\u989D \", this.props.balance));\n  }\n\n}","map":{"version":3,"sources":["/Users/weihung/Documents/workspace/dice/frontend/dice-demo/src/endless/component/Controller.js"],"names":["React","Switch","minBet","Controller","Component","constructor","props","handleAutoBetChange","autoBet","setState","state","value","bet","chance","win","handleBetChange","bind","handleBetBlur","handleOddsChange","handleOddsBlur","handleBetClick","event","parseFloat","target","isNaN","v","toFixed","stopBet","onBet","render","disableBet","balance"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport \"./Controller.css\";\nimport Switch from \"react-switch\";\n\nconst minBet = 0.01;\nexport default class Controller extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: \"1.05\",\n      bet: \"1.00\",\n      chance: 98 / 1.05,\n      win: 1.05,\n      autoBet: false,\n    };\n    this.handleBetChange = this.handleBetChange.bind(this);\n    this.handleBetBlur = this.handleBetBlur.bind(this);\n    this.handleOddsChange = this.handleOddsChange.bind(this);\n    this.handleOddsBlur = this.handleOddsBlur.bind(this);\n    this.handleBetClick = this.handleBetClick.bind(this);\n    this.handleAutoBetChange = this.handleAutoBetChange.bind(this);\n  }\n\n  handleBetChange(event) {\n    var value = parseFloat(event.target.value);\n    if (isNaN(value)) value = minBet;\n    var v = value.toFixed(2);\n    if (v < minBet) {\n      v = minBet;\n    }\n    const win = (v * this.state.value).toFixed(4);\n    this.setState({bet: event.target.value, win});\n  }\n\n  handleBetBlur(event) {\n    var value = parseFloat(event.target.value);\n    if (isNaN(value)) value = minBet;\n    var v = value.toFixed(2);\n    if (v < minBet) {\n      v = minBet;\n    }\n    const win = (v * this.state.value).toFixed(4);\n    this.setState({ bet: parseFloat(v), win });\n  }\n\n  handleOddsChange(event) {\n    var value = parseFloat(event.target.value);\n    if (isNaN(value)) value = 1.05;\n    var v = value.toFixed(2);\n    if (v < 1.05) {\n      v = 1.05;\n    } else if (v > 1000) {\n      v = 1000.00;\n    }\n    const chance = 98 / v;\n    const win = (v * this.state.bet).toFixed(4);\n    this.setState(  { value: event.target.value, chance, win});\n  }\n\n  handleOddsBlur(event) {\n    var value = parseFloat(event.target.value);\n    if (isNaN(value)) value = 1.05;\n    var v = value.toFixed(2);\n    if (v < 1.05) {\n      v = 1.05;\n    } else if (v > 1000) {\n      v = 1000.00;\n    }\n    const chance = 98 / v;\n    const win = (v * this.state.bet).toFixed(4);\n    this.setState({ value: v, chance, win });\n  }\n\n  handleBetClick(event){\n    if (this.props.autoBet) {\n      this.props.stopBet()\n      return\n    }\n    this.props.onBet(parseFloat(this.state.value), parseFloat(this.state.bet), this.state.autoBet)\n  }\n\n  handleAutoBetChange = (autoBet) => {\n    this.setState({autoBet});\n  }\n\n  render() {\n    return (\n      <div className=\"Controller\">\n        <div className=\"ControllerBody ControllerBet\">\n          <div>投注金额</div>\n          <div>\n            <input type=\"number\" value={this.state.bet} onChange={this.handleBetChange} onBlur={this.handleBetBlur}/>\n          </div>\n        </div>\n        <div className=\"ControllerBody ControllerOdds\">\n          <div>回报率(胜率{this.state.chance.toFixed(2)}%)</div>\n          <div>\n            <input\n              type=\"number\"\n              value={this.state.value}\n              onChange={this.handleOddsChange}\n              onBlur={this.handleOddsBlur}\n            />\n          </div>\n        </div>\n        <div className=\"ControllerBody ControllerWin\">\n          <div>赢取奖金</div>\n          <div>{this.state.win}</div>\n        </div>\n        <label>\n            <span>自动下注</span>\n            <Switch \n              onChange={this.handleAutoBetChange} \n              checked={this.state.autoBet} \n              onColor=\"#86d3ff\"\n              onHandleColor=\"#2693e6\"\n              handleDiameter={30}\n              uncheckedIcon={false}\n              checkedIcon={false}\n              boxShadow=\"0px 1px 5px rgba(0, 0, 0, 0.6)\"\n              activeBoxShadow=\"0px 0px 1px 10px rgba(0, 0, 0, 0.2)\"\n              height={20}\n              width={48}\n              className=\"react-switch\"\n              id=\"material-switch\"/>\n          </label>\n        <div className=\"ControllerBody ControllerStart\">\n          <button onClick={this.handleBetClick} disabled={this.props.disableBet && !this.props.autoBet}>\n            {this.props.autoBet ? \"停止\" : \"下注\"}\n          </button>\n        </div>\n        <div>\n          馀额 {this.props.balance}\n        </div>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}