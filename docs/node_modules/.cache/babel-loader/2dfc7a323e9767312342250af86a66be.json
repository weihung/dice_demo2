{"ast":null,"code":"import _classCallCheck from\"/Users/weihung/Documents/workspace/dice/frontend/dice-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/weihung/Documents/workspace/dice/frontend/dice-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/weihung/Documents/workspace/dice/frontend/dice-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/weihung/Documents/workspace/dice/frontend/dice-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/Users/weihung/Documents/workspace/dice/frontend/dice-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/weihung/Documents/workspace/dice/frontend/dice-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React from\"react\";import\"./Controller.css\";import Switch from\"react-switch\";var minBet=0.01;var Controller=/*#__PURE__*/function(_React$Component){_inherits(Controller,_React$Component);function Controller(props){var _this;_classCallCheck(this,Controller);_this=_possibleConstructorReturn(this,_getPrototypeOf(Controller).call(this,props));_this.handleAutoBetChange=function(autoBet){_this.setState({autoBet:autoBet});};_this.state={value:\"1.05\",bet:\"1.00\",chance:98/1.05,win:1.05,autoBet:false};_this.handleBetChange=_this.handleBetChange.bind(_assertThisInitialized(_this));_this.handleBetBlur=_this.handleBetBlur.bind(_assertThisInitialized(_this));_this.handleOddsChange=_this.handleOddsChange.bind(_assertThisInitialized(_this));_this.handleOddsBlur=_this.handleOddsBlur.bind(_assertThisInitialized(_this));_this.handleBetClick=_this.handleBetClick.bind(_assertThisInitialized(_this));_this.handleAutoBetChange=_this.handleAutoBetChange.bind(_assertThisInitialized(_this));return _this;}_createClass(Controller,[{key:\"handleBetChange\",value:function handleBetChange(event){var value=parseFloat(event.target.value);if(isNaN(value))value=minBet;var v=value.toFixed(2);if(v<minBet){v=minBet;}var win=(v*this.state.value).toFixed(4);this.setState({bet:event.target.value,win:win});}},{key:\"handleBetBlur\",value:function handleBetBlur(event){var value=parseFloat(event.target.value);if(isNaN(value))value=minBet;var v=value.toFixed(2);if(v<minBet){v=minBet;}var win=(v*this.state.value).toFixed(4);this.setState({bet:parseFloat(v),win:win});}},{key:\"handleOddsChange\",value:function handleOddsChange(event){var value=parseFloat(event.target.value);if(isNaN(value))value=1.05;var v=value.toFixed(2);if(v<1.05){v=1.05;}else if(v>1000){v=1000.00;}var chance=98/v;var win=(v*this.state.bet).toFixed(4);this.setState({value:event.target.value,chance:chance,win:win});}},{key:\"handleOddsBlur\",value:function handleOddsBlur(event){var value=parseFloat(event.target.value);if(isNaN(value))value=1.05;var v=value.toFixed(2);if(v<1.05){v=1.05;}else if(v>1000){v=1000.00;}var chance=98/v;var win=(v*this.state.bet).toFixed(4);this.setState({value:v,chance:chance,win:win});}},{key:\"handleBetClick\",value:function handleBetClick(event){if(this.props.autoBet){this.props.stopBet();return;}this.props.onBet(parseFloat(this.state.value),parseFloat(this.state.bet),this.state.autoBet);}},{key:\"render\",value:function render(){return React.createElement(\"div\",{className:\"Controller\"},React.createElement(\"div\",{className:\"ControllerBody ControllerBet\"},React.createElement(\"div\",null,\"\\u6295\\u6CE8\\u91D1\\u989D\"),React.createElement(\"div\",null,React.createElement(\"input\",{type:\"number\",value:this.state.bet,onChange:this.handleBetChange,onBlur:this.handleBetBlur}))),React.createElement(\"div\",{className:\"ControllerBody ControllerOdds\"},React.createElement(\"div\",null,\"\\u56DE\\u62A5\\u7387(\\u80DC\\u7387\",this.state.chance.toFixed(2),\"%)\"),React.createElement(\"div\",null,React.createElement(\"input\",{type:\"number\",value:this.state.value,onChange:this.handleOddsChange,onBlur:this.handleOddsBlur}))),React.createElement(\"div\",{className:\"ControllerBody ControllerWin\"},React.createElement(\"div\",null,\"\\u8D62\\u53D6\\u5956\\u91D1\"),React.createElement(\"div\",null,this.state.win)),React.createElement(\"label\",null,React.createElement(\"span\",null,\"\\u81EA\\u52A8\\u4E0B\\u6CE8\"),React.createElement(Switch,{onChange:this.handleAutoBetChange,checked:this.state.autoBet,onColor:\"#86d3ff\",onHandleColor:\"#2693e6\",handleDiameter:30,uncheckedIcon:false,checkedIcon:false,boxShadow:\"0px 1px 5px rgba(0, 0, 0, 0.6)\",activeBoxShadow:\"0px 0px 1px 10px rgba(0, 0, 0, 0.2)\",height:20,width:48,className:\"react-switch\",id:\"material-switch\"})),React.createElement(\"div\",{className:\"ControllerBody ControllerStart\"},React.createElement(\"button\",{onClick:this.handleBetClick,disabled:this.props.disableBet&&!this.props.autoBet},this.props.autoBet?\"停止\":\"下注\")),React.createElement(\"div\",null,\"\\u9980\\u989D \",this.props.balance));}}]);return Controller;}(React.Component);export{Controller as default};","map":{"version":3,"sources":["/Users/weihung/Documents/workspace/dice/frontend/dice-demo/src/endless/component/Controller.js"],"names":["React","Switch","minBet","Controller","props","handleAutoBetChange","autoBet","setState","state","value","bet","chance","win","handleBetChange","bind","handleBetBlur","handleOddsChange","handleOddsBlur","handleBetClick","event","parseFloat","target","isNaN","v","toFixed","stopBet","onBet","disableBet","balance","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport \"./Controller.css\";\nimport Switch from \"react-switch\";\n\nconst minBet = 0.01;\nexport default class Controller extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: \"1.05\",\n      bet: \"1.00\",\n      chance: 98 / 1.05,\n      win: 1.05,\n      autoBet: false,\n    };\n    this.handleBetChange = this.handleBetChange.bind(this);\n    this.handleBetBlur = this.handleBetBlur.bind(this);\n    this.handleOddsChange = this.handleOddsChange.bind(this);\n    this.handleOddsBlur = this.handleOddsBlur.bind(this);\n    this.handleBetClick = this.handleBetClick.bind(this);\n    this.handleAutoBetChange = this.handleAutoBetChange.bind(this);\n  }\n\n  handleBetChange(event) {\n    var value = parseFloat(event.target.value);\n    if (isNaN(value)) value = minBet;\n    var v = value.toFixed(2);\n    if (v < minBet) {\n      v = minBet;\n    }\n    const win = (v * this.state.value).toFixed(4);\n    this.setState({bet: event.target.value, win});\n  }\n\n  handleBetBlur(event) {\n    var value = parseFloat(event.target.value);\n    if (isNaN(value)) value = minBet;\n    var v = value.toFixed(2);\n    if (v < minBet) {\n      v = minBet;\n    }\n    const win = (v * this.state.value).toFixed(4);\n    this.setState({ bet: parseFloat(v), win });\n  }\n\n  handleOddsChange(event) {\n    var value = parseFloat(event.target.value);\n    if (isNaN(value)) value = 1.05;\n    var v = value.toFixed(2);\n    if (v < 1.05) {\n      v = 1.05;\n    } else if (v > 1000) {\n      v = 1000.00;\n    }\n    const chance = 98 / v;\n    const win = (v * this.state.bet).toFixed(4);\n    this.setState(  { value: event.target.value, chance, win});\n  }\n\n  handleOddsBlur(event) {\n    var value = parseFloat(event.target.value);\n    if (isNaN(value)) value = 1.05;\n    var v = value.toFixed(2);\n    if (v < 1.05) {\n      v = 1.05;\n    } else if (v > 1000) {\n      v = 1000.00;\n    }\n    const chance = 98 / v;\n    const win = (v * this.state.bet).toFixed(4);\n    this.setState({ value: v, chance, win });\n  }\n\n  handleBetClick(event){\n    if (this.props.autoBet) {\n      this.props.stopBet()\n      return\n    }\n    this.props.onBet(parseFloat(this.state.value), parseFloat(this.state.bet), this.state.autoBet)\n  }\n\n  handleAutoBetChange = (autoBet) => {\n    this.setState({autoBet});\n  }\n\n  render() {\n    return (\n      <div className=\"Controller\">\n        <div className=\"ControllerBody ControllerBet\">\n          <div>投注金额</div>\n          <div>\n            <input type=\"number\" value={this.state.bet} onChange={this.handleBetChange} onBlur={this.handleBetBlur}/>\n          </div>\n        </div>\n        <div className=\"ControllerBody ControllerOdds\">\n          <div>回报率(胜率{this.state.chance.toFixed(2)}%)</div>\n          <div>\n            <input\n              type=\"number\"\n              value={this.state.value}\n              onChange={this.handleOddsChange}\n              onBlur={this.handleOddsBlur}\n            />\n          </div>\n        </div>\n        <div className=\"ControllerBody ControllerWin\">\n          <div>赢取奖金</div>\n          <div>{this.state.win}</div>\n        </div>\n        <label>\n            <span>自动下注</span>\n            <Switch \n              onChange={this.handleAutoBetChange} \n              checked={this.state.autoBet} \n              onColor=\"#86d3ff\"\n              onHandleColor=\"#2693e6\"\n              handleDiameter={30}\n              uncheckedIcon={false}\n              checkedIcon={false}\n              boxShadow=\"0px 1px 5px rgba(0, 0, 0, 0.6)\"\n              activeBoxShadow=\"0px 0px 1px 10px rgba(0, 0, 0, 0.2)\"\n              height={20}\n              width={48}\n              className=\"react-switch\"\n              id=\"material-switch\"/>\n          </label>\n        <div className=\"ControllerBody ControllerStart\">\n          <button onClick={this.handleBetClick} disabled={this.props.disableBet && !this.props.autoBet}>\n            {this.props.autoBet ? \"停止\" : \"下注\"}\n          </button>\n        </div>\n        <div>\n          馀额 {this.props.balance}\n        </div>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}